#include "ds18b20.h"

void StartHSE(void);

int main() {
	//StartHSE();
	init_DS18B20();
	while(1) {
		DS18B20_measure_temperature();
	}
}

void StartHSE()
{
	RCC->CR |= RCC_CR_CSSON | RCC_CR_HSEBYP; /* (2) */
	RCC->CR |= RCC_CR_HSEON;
	while((RCC->CR & RCC_CR_HSERDY) != RCC_CR_HSERDY);
	RCC->CFGR = ((RCC->CFGR & (~RCC_CFGR_SW)) | RCC_CFGR_SW_0);
}
